!function(){"use strict";const e={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__submit-btn",inactiveButtonClass:"modal__submit-btn_disabled",inputErrorClass:"modal__input_type_error"},t=(e,t,r)=>{e.querySelector(`#${t.id}-error`).textContent="",t.classList.remove(r.inputErrorClass)},r=(e,t,r)=>{(e=>e.some(e=>!e.validity.valid))(e)?n(t,r):(t.disabled=!1,t.classList.remove(r.inactiveButtonClass))},n=(e,t)=>{e.disabled=!0,e.classList.add(t.inactiveButtonClass)};const o=document.querySelector(".profile__edit-btn"),a=document.querySelector("#edit-profile-modal"),s=document.forms["edit-profile-form"],i=document.querySelector(".profile__name"),c=document.querySelector(".profile__description"),l=document.querySelector(".profile__avatar"),d=document.querySelector(".profile__avatar-btn"),u=s.querySelector("#profile-name-input"),m=s.querySelector("#profile-description-input"),h=document.querySelector("#edit-avatar-modal"),_=document.forms["edit-avatar-form"],v=_.querySelector("#profile-avatar-input"),f=document.querySelector("#delete-modal"),p=document.forms["delete-form"],S=f.querySelector(".modal__submit-btn--cancel-btn"),y=document.querySelector(".profile__add-btn"),b=document.querySelector("#new-post-modal"),E=document.forms["new-post-form"],q=E.querySelector("#card-image-input"),L=E.querySelector("#card-caption-input"),k=document.querySelector("#card-template").content.querySelector(".card"),C=document.querySelector(".cards__list"),g=document.querySelector("#preview-modal"),U=g.querySelector(".modal__close-btn_type_preview"),x=g.querySelector(".modal__image"),A=g.querySelector(".modal__caption"),$=document.querySelectorAll(".modal__close-btn"),I=b.querySelector(".modal__submit-btn"),w=new class{constructor({baseUrl:e,headers:t}){this._baseUrl=e,this._headers=t}getAppInfo(){return Promise.all([this.getUserInfo(),this.getInitialCards()]).then(([e,t])=>({user:e,cards:t}))}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then(this._handleServerResponse)}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then(this._handleServerResponse)}editUserInfo({name:e,about:t}){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then(this._handleServerResponse)}editAvatarInfo(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._handleServerResponse)}addNewCard({name:e,link:t}){return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then(this._handleServerResponse)}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(this._handleServerResponse)}cardLikeStatus(e,t){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:t?"DELETE":"PUT",headers:this._headers}).then(this._handleServerResponse)}_handleServerResponse(e){if(e.ok)return e.json();Promise.reject(`Error: ${e.status}`)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"b8003661-c7fb-40e8-bb41-cd11b8d0c50e","Content-Type":"application/json"}});let R,T;function D(e){Array.isArray(e.likes)||(e.likes=[]);let t=k.cloneNode(!0);t.querySelector(".card__title").textContent=e.name;const r=t.querySelector(".card__image");r.src=e.link,r.alt=e.name;const n=t.querySelector(".card__like-btn");return e.isLiked&&n.classList.add("card__like-btn_active"),n.addEventListener("click",t=>{!function(e,t){const r=e.target,n=r.classList.contains("card__like-btn_active");w.cardLikeStatus(t,n).then(()=>{r.classList.toggle("card__like-btn_active",!n)}).catch(e=>{console.log("Error updating like status:",e)})}(t,e._id)}),t.querySelector(".card__delete-btn").addEventListener("click",()=>function(e,t){R=e,T=t,N(f)}(t,e._id)),r.addEventListener("click",function(){N(g),x.src=e.link,x.alt=e.name,A.textContent=e.name}),t}function N(e){e.classList.add("modal_is-opened"),e.addEventListener("click",B),document.addEventListener("keydown",O)}function P(e){e.classList.remove("modal_is-opened"),e.removeEventListener("click",B),document.removeEventListener("keydown",O)}function B(e){e.target.classList.contains(".modal")||P(e.target)}function O(e){"Escape"===e.key&&P(document.querySelector(".modal_is-opened"))}var j;w.getAppInfo().then(({user:e,cards:t})=>{i.textContent=e.name,c.textContent=e.about,l&&(l.src=e.avatar,l.alt=e.name,P(a)),t.forEach(e=>{const t=D(e);C.appendChild(t)})}).catch(console.error),U.addEventListener("click",function(){P(g)}),o.addEventListener("click",function(){var r,n;u.value=i.textContent,m.value=c.textContent,r=s,n=e,[u,m].forEach(e=>{t(r,e,n)}),N(a)}),y.addEventListener("click",function(){N(b)}),d.addEventListener("click",function(){N(h)}),p.addEventListener("submit",function(e){e.preventDefault(),w.deleteCard(T).then(()=>{R.remove(),P(f)}).catch(console.error)}),s.addEventListener("submit",function(e){e.preventDefault(),w.editUserInfo({name:u.value,about:m.value}).then(e=>{console.log(e),i.textContent=e.name,c.textContent=e.about}).catch(console.error),P(a)}),E.addEventListener("submit",function(t){t.preventDefault(),I.textContent="Saving...";const r={name:L.value,link:q.value};w.addNewCard(r).then(t=>{!function(e,t="append"){const r=D(e);C[t](r)}(r,"prepend"),E.reset(),n(I,e),P(b)}).catch(console.error).finally(()=>{I.textContent="Create"})}),_.addEventListener("submit",function(e){e.preventDefault(),w.editAvatarInfo(v.value).then(e=>{l.src=e.avatar,_.reset(),P(h)}).catch(console.error)}),S.addEventListener("click",()=>{P(f),R=null,T=null}),$.forEach(e=>{const t=e.closest(".modal");e.addEventListener("click",()=>P(t))}),j=e,document.querySelectorAll(j.formSelector).forEach(e=>{((e,o)=>{const a=Array.from(e.querySelectorAll(o.inputSelector)),s=e.querySelector(o.submitButtonSelector);r(a,s,o),e.addEventListener("reset",()=>{n(s,o)}),a.forEach(n=>{n.addEventListener("input",function(){((e,r,n)=>{r.validity.valid?t(e,r,n):((e,t,r,n)=>{e.querySelector(`#${t.id}-error`).textContent=r,t.classList.add(n.inputErrorClass)})(e,r,r.validationMessage,n)})(e,n,o),r(a,s,o)})})})(e,j)})}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUMsRUFBUUQsRUFBT0UsUUFBUSxVQUM3QkYsRUFBT25DLGlCQUFpQixRQUFTLElBQU1rQixFQUFXa0IsTUQzT25CdkksRUMyUGhCVCxFRDFQRTJCLFNBQVM2QixpQkFBaUIvQyxFQUFPUixjQUN6Q2dJLFFBQVMxSCxJQWpCTTJJLEVBQUMzSSxFQUFRRSxLQUNqQyxNQUFNTyxFQUFZbUYsTUFBTWdELEtBQUs1SSxFQUFPaUQsaUJBQWlCL0MsRUFBT1AsZ0JBQ3REZSxFQUFnQlYsRUFBT0csY0FBY0QsRUFBT04sc0JBQ2xEWSxFQUFrQkMsRUFBV0MsRUFBZVIsR0FDNUNGLEVBQU9xRyxpQkFBaUIsUUFBUyxLQUMvQnJGLEVBQWVOLEVBQWVSLEtBRWhDTyxFQUFVaUgsUUFBU3pILElBQ2pCQSxFQUFhb0csaUJBQWlCLFFBQVMsV0EvQ2hCd0MsRUFBQzdJLEVBQVFDLEVBQWNDLEtBQzNDRCxFQUFhWSxTQUFTQyxNQVF6QmYsRUFBZUMsRUFBUUMsRUFBY0MsR0FyQmxCNEksRUFBQzlJLEVBQVFDLEVBQWM4SSxFQUFVN0ksS0FDbkNGLEVBQU9HLGNBQWMsSUFBSUYsRUFBYUcsWUFDOUNDLFlBQWMwSSxFQUN6QjlJLEVBQWFLLFVBQVVZLElBQUloQixFQUFPSixrQkFXaENnSixDQUNFOUksRUFDQUMsRUFDQUEsRUFBYStJLGtCQUNiOUksSUEwQ0EySSxDQUFtQjdJLEVBQVFDLEVBQWNDLEdBQ3pDTSxFQUFrQkMsRUFBV0MsRUFBZVIsRUFDOUMsTUFPQXlJLENBQWtCM0ksRUFBUUUsSSIsInNvdXJjZXMiOlsid2VicGFjazovL3NlX3Byb2plY3Rfc3BvdHMvLi9zcmMvc2NyaXB0cy92YWxpZGF0ZS5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X3Nwb3RzLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3NlX3Byb2plY3Rfc3BvdHMvLi9zcmMvdXRpbHMvQXBpLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBzZXR0aW5ncyA9IHtcclxuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19zdWJtaXQtYnRuXCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fc3VibWl0LWJ0bl9kaXNhYmxlZFwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfdHlwZV9lcnJvclwiLFxyXG59O1xyXG5cclxuY29uc3Qgc2hvd0lucHV0RXJyb3IgPSAoZm9ybUVsLCBpbnB1dEVsZW1lbnQsIGVycm9yTXNnLCBjb25maWcpID0+IHtcclxuICBjb25zdCBlcnJvck1zZ0VsID0gZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICBlcnJvck1zZ0VsLnRleHRDb250ZW50ID0gZXJyb3JNc2c7XHJcbiAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQoY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbn07XHJcblxyXG5jb25zdCBoaWRlSW5wdXRFcnJvciA9IChmb3JtRWwsIGlucHV0RWxlbWVudCwgY29uZmlnKSA9PiB7XHJcbiAgY29uc3QgZXJyb3JNc2dFbCA9IGZvcm1FbC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgZXJyb3JNc2dFbC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbn07XHJcblxyXG5jb25zdCBjaGVja0lucHV0VmFsaWRpdHkgPSAoZm9ybUVsLCBpbnB1dEVsZW1lbnQsIGNvbmZpZykgPT4ge1xyXG4gIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICBzaG93SW5wdXRFcnJvcihcclxuICAgICAgZm9ybUVsLFxyXG4gICAgICBpbnB1dEVsZW1lbnQsXHJcbiAgICAgIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSxcclxuICAgICAgY29uZmlnXHJcbiAgICApO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBoaWRlSW5wdXRFcnJvcihmb3JtRWwsIGlucHV0RWxlbWVudCwgY29uZmlnKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBoYXNJbnZhbGlkSW5wdXQgPSAoaW5wdXRMaXN0KSA9PiB7XHJcbiAgcmV0dXJuIGlucHV0TGlzdC5zb21lKChpbnB1dCkgPT4ge1xyXG4gICAgcmV0dXJuICFpbnB1dC52YWxpZGl0eS52YWxpZDtcclxuICB9KTtcclxufTtcclxuXHJcbmNvbnN0IHRvZ2dsZUJ1dHRvblN0YXRlID0gKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCwgY29uZmlnKSA9PiB7XHJcbiAgaWYgKGhhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpKSB7XHJcbiAgICBkaXNhYmxlZEJ1dHRvbihidXR0b25FbGVtZW50LCBjb25maWcpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBkaXNhYmxlZEJ1dHRvbiA9IChidXR0b25FbGVtZW50LCBjb25maWcpID0+IHtcclxuICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHJlc2V0VmFsaWRhdGlvbiA9IChmb3JtRWwsIGlucHV0TGlzdCwgY29uZmlnKSA9PiB7XHJcbiAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICBoaWRlSW5wdXRFcnJvcihmb3JtRWwsIGlucHV0LCBjb25maWcpO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuY29uc3Qgc2V0RXZlbnRMaXN0ZW5lcnMgPSAoZm9ybUVsLCBjb25maWcpID0+IHtcclxuICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKGZvcm1FbC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5pbnB1dFNlbGVjdG9yKSk7XHJcbiAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGZvcm1FbC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50LCBjb25maWcpO1xyXG4gIGZvcm1FbC5hZGRFdmVudExpc3RlbmVyKFwicmVzZXRcIiwgKCkgPT4ge1xyXG4gICAgZGlzYWJsZWRCdXR0b24oYnV0dG9uRWxlbWVudCwgY29uZmlnKTtcclxuICB9KTtcclxuICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgY2hlY2tJbnB1dFZhbGlkaXR5KGZvcm1FbCwgaW5wdXRFbGVtZW50LCBjb25maWcpO1xyXG4gICAgICB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQsIGNvbmZpZyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKGNvbmZpZykgPT4ge1xyXG4gIGNvbnN0IGZvcm1MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuZm9ybVNlbGVjdG9yKTtcclxuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWwpID0+IHtcclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKGZvcm1FbCwgY29uZmlnKTtcclxuICB9KTtcclxufTtcclxuIiwiaW1wb3J0IFwiLi4vcGFnZXMvaW5kZXguY3NzXCI7XHJcbmltcG9ydCB7XHJcbiAgZW5hYmxlVmFsaWRhdGlvbixcclxuICBzZXR0aW5ncyxcclxuICByZXNldFZhbGlkYXRpb24sXHJcbiAgZGlzYWJsZWRCdXR0b24sXHJcbn0gZnJvbSBcIi4uL3NjcmlwdHMvdmFsaWRhdGUuanNcIjtcclxuXHJcbi8vIGltcG9ydCB7IGluaXRpYWxDYXJkcyB9IGZyb20gXCIuLi9zY3JpcHRzL2NhcmRzLmpzXCI7XHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uL3V0aWxzL0FwaS5qc1wiO1xyXG5cclxuLy8gUHJvZmlsZSBlbGVtZW50c1xyXG5jb25zdCBlZGl0UHJvZmlsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idG5cIik7XHJcbmNvbnN0IGVkaXRQcm9maWxlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtcHJvZmlsZS1tb2RhbFwiKTtcclxuY29uc3QgcHJvZmlsZUZvcm1FbGVtZW50ID0gZG9jdW1lbnQuZm9ybXNbXCJlZGl0LXByb2ZpbGUtZm9ybVwiXTtcclxuY29uc3QgcHJvZmlsZU5hbWVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uYW1lXCIpO1xyXG5jb25zdCBwcm9maWxlRGVzY3JpcHRpb25FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiXHJcbik7XHJcbmNvbnN0IHByb2ZpbGVBdmF0YXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXJcIik7XHJcbmNvbnN0IHByb2ZpbGVBdmF0YXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhci1idG5cIik7XHJcbmNvbnN0IGVkaXRQcm9maWxlTmFtZUlucHV0ID0gcHJvZmlsZUZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIjcHJvZmlsZS1uYW1lLWlucHV0XCJcclxuKTtcclxuY29uc3QgZWRpdFByb2ZpbGVEZXNjcmlwdGlvbklucHV0ID0gcHJvZmlsZUZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIjcHJvZmlsZS1kZXNjcmlwdGlvbi1pbnB1dFwiXHJcbik7XHJcblxyXG4vLyBBdmF0YXIgZm9ybSBlbGVtZW50XHJcbmNvbnN0IGF2YXRhck1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlZGl0LWF2YXRhci1tb2RhbFwiKTtcclxuY29uc3QgYXZhdGFyRm9ybUVsZW1lbnQgPSBkb2N1bWVudC5mb3Jtc1tcImVkaXQtYXZhdGFyLWZvcm1cIl07XHJcbmNvbnN0IGF2YXRhckltYWdlSW5wdXQgPSBhdmF0YXJGb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiI3Byb2ZpbGUtYXZhdGFyLWlucHV0XCJcclxuKTtcclxuXHJcbi8vIERlbGV0ZSBmb3JtIGVsZW1lbnRzXHJcbmNvbnN0IGRlbGV0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkZWxldGUtbW9kYWxcIik7XHJcbmNvbnN0IGRlbGV0ZUZvcm0gPSBkb2N1bWVudC5mb3Jtc1tcImRlbGV0ZS1mb3JtXCJdO1xyXG5jb25zdCBkZWxldGVDYW5jZWxCdG4gPSBkZWxldGVNb2RhbC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiLm1vZGFsX19zdWJtaXQtYnRuLS1jYW5jZWwtYnRuXCJcclxuKTtcclxuXHJcbi8vQ2FyZCBmb3JtIGVsZW1lbnRzXHJcbmNvbnN0IG5ld1Bvc3RBZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idG5cIik7XHJcbmNvbnN0IG5ld1Bvc3RNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmV3LXBvc3QtbW9kYWxcIik7XHJcbmNvbnN0IGFkZENhcmRGb3JtRWxlbWVudCA9IGRvY3VtZW50LmZvcm1zW1wibmV3LXBvc3QtZm9ybVwiXTtcclxuY29uc3QgY2FyZEltYWdlSW5wdXQgPSBhZGRDYXJkRm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkLWltYWdlLWlucHV0XCIpO1xyXG5jb25zdCBjYXJkQ2FwdGlvbklucHV0ID0gYWRkQ2FyZEZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIjY2FyZC1jYXB0aW9uLWlucHV0XCJcclxuKTtcclxuY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnRcclxuICAucXVlcnlTZWxlY3RvcihcIiNjYXJkLXRlbXBsYXRlXCIpXHJcbiAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpO1xyXG5jb25zdCBjYXJkc0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19saXN0XCIpO1xyXG5jb25zdCBwcmV2aWV3TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3ByZXZpZXctbW9kYWxcIik7XHJcbmNvbnN0IHByZXZpZXdDbG9zZUJ0biA9IHByZXZpZXdNb2RhbC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiLm1vZGFsX19jbG9zZS1idG5fdHlwZV9wcmV2aWV3XCJcclxuKTtcclxuY29uc3QgcHJldmlld0ltYWdlID0gcHJldmlld01vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlXCIpO1xyXG5jb25zdCBwcmV2aWV3Q2FwdGlvbiA9IHByZXZpZXdNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jYXB0aW9uXCIpO1xyXG5jb25zdCBjbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19jbG9zZS1idG5cIik7XHJcbmNvbnN0IG5ld1Bvc3RTYXZlQnRuID0gbmV3UG9zdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3N1Ym1pdC1idG5cIik7XHJcblxyXG4vL0luc3RhbnRpYXRlIEFQSVxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCIsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogXCJiODAwMzY2MS1jN2ZiLTQwZTgtYmI0MS1jZDExYjhkMGM1MGVcIixcclxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxubGV0IHNlbGVjdGVkQ2FyZDtcclxubGV0IHNlbGVjdGVkQ2FyZElkO1xyXG5sZXQgY3VycmVudFVzZXJJZDtcclxuXHJcbi8vRmV0Y2ggaW5pdGlhbCBkYXRhXHJcbmFwaVxyXG4gIC5nZXRBcHBJbmZvKClcclxuICAudGhlbigoeyB1c2VyLCBjYXJkcyB9KSA9PiB7XHJcbiAgICAvLyBjdXJyZW50VXNlcklkID0gdXNlci5faWQ7XHJcblxyXG4gICAgcHJvZmlsZU5hbWVFbGVtZW50LnRleHRDb250ZW50ID0gdXNlci5uYW1lO1xyXG4gICAgcHJvZmlsZURlc2NyaXB0aW9uRWxlbWVudC50ZXh0Q29udGVudCA9IHVzZXIuYWJvdXQ7XHJcblxyXG4gICAgaWYgKHByb2ZpbGVBdmF0YXJFbGVtZW50KSB7XHJcbiAgICAgIHByb2ZpbGVBdmF0YXJFbGVtZW50LnNyYyA9IHVzZXIuYXZhdGFyO1xyXG4gICAgICBwcm9maWxlQXZhdGFyRWxlbWVudC5hbHQgPSB1c2VyLm5hbWU7XHJcbiAgICAgIGNsb3NlTW9kYWwoZWRpdFByb2ZpbGVNb2RhbCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2FyZHMuZm9yRWFjaCgoY2FyZERhdGEpID0+IHtcclxuICAgICAgY29uc3QgY2FyZCA9IGdldENhcmRFbGVtZW50KGNhcmREYXRhKTtcclxuICAgICAgY2FyZHNMaXN0LmFwcGVuZENoaWxkKGNhcmQpO1xyXG4gICAgfSk7XHJcbiAgfSlcclxuICAuY2F0Y2goY29uc29sZS5lcnJvcik7XHJcblxyXG4vLyBXT1JLIE9OIFRISVNcclxuLy8gYXBpXHJcbi8vICAgLmdldEluaXRpYWxDYXJkcygpXHJcbi8vICAgLnRoZW4oKGNhcmRzKSA9PiB7XHJcbi8vICAgICBjYXJkcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbi8vICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZ2V0Q2FyZEVsZW1lbnQoaXRlbSk7XHJcbi8vICAgICAgIGNhcmRzTGlzdC5hcHBlbmQoY2FyZEVsZW1lbnQpO1xyXG4vLyAgICAgfSk7XHJcbi8vICAgfSlcclxuLy8gICAuY2F0Y2goY29uc29sZS5lcnJvcik7XHJcblxyXG4vLyBjbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XHJcbi8vICAgY29uc3QgbW9kYWwgPSBidXR0b24uY2xvc2VzdChcIi5tb2RhbFwiKTtcclxuLy8gICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuLy8gICAgIGNsb3NlTW9kYWwobW9kYWwpO1xyXG4vLyAgIH0pO1xyXG4vLyB9KTtcclxuXHJcbmZ1bmN0aW9uIGdldENhcmRFbGVtZW50KGRhdGEpIHtcclxuICBpZiAoIUFycmF5LmlzQXJyYXkoZGF0YS5saWtlcykpIHtcclxuICAgIGRhdGEubGlrZXMgPSBbXTtcclxuICB9XHJcblxyXG4gIGxldCBjYXJkRWxlbWVudCA9IGNhcmRUZW1wbGF0ZS5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG4gIGNvbnN0IGNhcmRUaXRsZUVsID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKTtcclxuICBjYXJkVGl0bGVFbC50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcclxuICBjb25zdCBjYXJkSW1hZ2VFbCA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XHJcbiAgY2FyZEltYWdlRWwuc3JjID0gZGF0YS5saW5rO1xyXG4gIGNhcmRJbWFnZUVsLmFsdCA9IGRhdGEubmFtZTtcclxuXHJcbiAgY29uc3QgY2FyZExpa2VCdG5FbCA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idG5cIik7XHJcbiAgLy8gY2FyZExpa2VCdG5FbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gIC8vICAgY2FyZExpa2VCdG5FbC5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZS1idG5fYWN0aXZlXCIpO1xyXG4gIC8vIH0pO1xyXG5cclxuICBpZiAoZGF0YS5pc0xpa2VkKSB7XHJcbiAgICBjYXJkTGlrZUJ0bkVsLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19saWtlLWJ0bl9hY3RpdmVcIik7XHJcbiAgfVxyXG5cclxuICBjYXJkTGlrZUJ0bkVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcbiAgICBoYW5kbGVMaWtlKGV2dCwgZGF0YS5faWQpO1xyXG4gIH0pO1xyXG5cclxuICBjb25zdCBjYXJkRGVsZXRlQnRuRWwgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1idG5cIik7XHJcbiAgY2FyZERlbGV0ZUJ0bkVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PlxyXG4gICAgaGFuZGxlRGVsZXRlQ2FyZChjYXJkRWxlbWVudCwgZGF0YS5faWQpXHJcbiAgKTtcclxuXHJcbiAgY2FyZEltYWdlRWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgIG9wZW5Nb2RhbChwcmV2aWV3TW9kYWwpO1xyXG4gICAgcHJldmlld0ltYWdlLnNyYyA9IGRhdGEubGluaztcclxuICAgIHByZXZpZXdJbWFnZS5hbHQgPSBkYXRhLm5hbWU7XHJcbiAgICBwcmV2aWV3Q2FwdGlvbi50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVMaWtlKGV2dCwgaWQpIHtcclxuICBjb25zdCBsaWtlQnV0dG9uID0gZXZ0LnRhcmdldDtcclxuICBjb25zdCBpc0xpa2VkID0gbGlrZUJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoXCJjYXJkX19saWtlLWJ0bl9hY3RpdmVcIik7XHJcblxyXG4gIGFwaVxyXG4gICAgLmNhcmRMaWtlU3RhdHVzKGlkLCBpc0xpa2VkKVxyXG4gICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICBsaWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlLWJ0bl9hY3RpdmVcIiwgIWlzTGlrZWQpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3IgdXBkYXRpbmcgbGlrZSBzdGF0dXM6XCIsIGVycik7XHJcbiAgICB9KTtcclxufVxyXG5cclxucHJldmlld0Nsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgY2xvc2VNb2RhbChwcmV2aWV3TW9kYWwpO1xyXG59KTtcclxuXHJcbmVkaXRQcm9maWxlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgZWRpdFByb2ZpbGVOYW1lSW5wdXQudmFsdWUgPSBwcm9maWxlTmFtZUVsZW1lbnQudGV4dENvbnRlbnQ7XHJcbiAgZWRpdFByb2ZpbGVEZXNjcmlwdGlvbklucHV0LnZhbHVlID0gcHJvZmlsZURlc2NyaXB0aW9uRWxlbWVudC50ZXh0Q29udGVudDtcclxuICByZXNldFZhbGlkYXRpb24oXHJcbiAgICBwcm9maWxlRm9ybUVsZW1lbnQsXHJcbiAgICBbZWRpdFByb2ZpbGVOYW1lSW5wdXQsIGVkaXRQcm9maWxlRGVzY3JpcHRpb25JbnB1dF0sXHJcbiAgICBzZXR0aW5nc1xyXG4gICk7XHJcbiAgb3Blbk1vZGFsKGVkaXRQcm9maWxlTW9kYWwpO1xyXG59KTtcclxuXHJcbm5ld1Bvc3RBZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICBvcGVuTW9kYWwobmV3UG9zdE1vZGFsKTtcclxufSk7XHJcblxyXG5wcm9maWxlQXZhdGFyQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgb3Blbk1vZGFsKGF2YXRhck1vZGFsKTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdChldnQpIHtcclxuICBldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgYXBpXHJcbiAgICAuZWRpdFVzZXJJbmZvKHtcclxuICAgICAgbmFtZTogZWRpdFByb2ZpbGVOYW1lSW5wdXQudmFsdWUsXHJcbiAgICAgIGFib3V0OiBlZGl0UHJvZmlsZURlc2NyaXB0aW9uSW5wdXQudmFsdWUsXHJcbiAgICB9KVxyXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgIHByb2ZpbGVOYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcclxuICAgICAgcHJvZmlsZURlc2NyaXB0aW9uRWxlbWVudC50ZXh0Q29udGVudCA9IGRhdGEuYWJvdXQ7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xyXG5cclxuICBjbG9zZU1vZGFsKGVkaXRQcm9maWxlTW9kYWwpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVBZGRDYXJkU3VibWl0KGV2dCkge1xyXG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIC8vIGNvbnN0IG5ld1Bvc3RTYXZlQnRuID0gbmV3UG9zdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3N1Ym1pdC1idG5cIik7XHJcbiAgbmV3UG9zdFNhdmVCdG4udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiO1xyXG4gIGNvbnN0IGlucHV0VmFsdWVzID0ge1xyXG4gICAgbmFtZTogY2FyZENhcHRpb25JbnB1dC52YWx1ZSxcclxuICAgIGxpbms6IGNhcmRJbWFnZUlucHV0LnZhbHVlLFxyXG4gIH07XHJcbiAgLy8gY29uc3QgY2FyZEVsZW1lbnQgPSBnZXRDYXJkRWxlbWVudChpbnB1dFZhbHVlcyk7XHJcblxyXG4gIGFwaVxyXG4gICAgLmFkZE5ld0NhcmQoaW5wdXRWYWx1ZXMpXHJcbiAgICAudGhlbigobmV3Q2FyZERhdGEpID0+IHtcclxuICAgICAgcmVuZGVyQ2FyZChpbnB1dFZhbHVlcywgXCJwcmVwZW5kXCIpO1xyXG5cclxuICAgICAgYWRkQ2FyZEZvcm1FbGVtZW50LnJlc2V0KCk7XHJcbiAgICAgIGRpc2FibGVkQnV0dG9uKG5ld1Bvc3RTYXZlQnRuLCBzZXR0aW5ncyk7XHJcbiAgICAgIGNsb3NlTW9kYWwobmV3UG9zdE1vZGFsKTtcclxuICAgICAgLy8gY29uc3QgY2FyZEVsZW1lbnQgPSBnZXRDYXJkRWxlbWVudChuZXdDYXJkRGF0YSk7XHJcbiAgICAgIC8vIGNhcmRzTGlzdC5wcmVwZW5kKGNhcmRFbGVtZW50KTtcclxuICAgICAgLy8gY2xvc2VNb2RhbChuZXdQb3N0TW9kYWwpO1xyXG4gICAgICAvLyBldnQudGFyZ2V0LnJlc2V0KCk7XHJcbiAgICAgIC8vIGRpc2FibGVkQnV0dG9uKG5ld1Bvc3RTYXZlQnRuLCBzZXR0aW5ncyk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpXHJcbiAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgIG5ld1Bvc3RTYXZlQnRuLnRleHRDb250ZW50ID0gXCJDcmVhdGVcIjtcclxuICAgIH0pO1xyXG5cclxuICAvLyByZW5kZXJDYXJkKGlucHV0VmFsdWVzLCBcInByZXBlbmRcIik7XHJcblxyXG4gIC8vIGFkZENhcmRGb3JtRWxlbWVudC5yZXNldCgpO1xyXG4gIC8vIGRpc2FibGVkQnV0dG9uKG5ld1Bvc3RTYXZlQnRuLCBzZXR0aW5ncyk7XHJcbiAgLy8gY2xvc2VNb2RhbChuZXdQb3N0TW9kYWwpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVBdmF0YXJTdWJtaXQoZXZ0KSB7XHJcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gIGFwaVxyXG4gICAgLmVkaXRBdmF0YXJJbmZvKGF2YXRhckltYWdlSW5wdXQudmFsdWUpXHJcbiAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICBwcm9maWxlQXZhdGFyRWxlbWVudC5zcmMgPSBkYXRhLmF2YXRhcjtcclxuICAgICAgYXZhdGFyRm9ybUVsZW1lbnQucmVzZXQoKTtcclxuICAgICAgY2xvc2VNb2RhbChhdmF0YXJNb2RhbCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVEZWxldGVTdWJtaXQoZXZ0KSB7XHJcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgYXBpXHJcbiAgICAuZGVsZXRlQ2FyZChzZWxlY3RlZENhcmRJZClcclxuICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgc2VsZWN0ZWRDYXJkLnJlbW92ZSgpO1xyXG4gICAgICBjbG9zZU1vZGFsKGRlbGV0ZU1vZGFsKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNhcmQoY2FyZEVsZW1lbnQsIGNhcmRJZCkge1xyXG4gIHNlbGVjdGVkQ2FyZCA9IGNhcmRFbGVtZW50O1xyXG4gIHNlbGVjdGVkQ2FyZElkID0gY2FyZElkO1xyXG4gIG9wZW5Nb2RhbChkZWxldGVNb2RhbCk7XHJcbn1cclxuXHJcbmRlbGV0ZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVEZWxldGVTdWJtaXQpO1xyXG5cclxuZnVuY3Rpb24gb3Blbk1vZGFsKG1vZGFsKSB7XHJcbiAgbW9kYWwuY2xhc3NMaXN0LmFkZChcIm1vZGFsX2lzLW9wZW5lZFwiKTtcclxuICBtb2RhbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2VNb2RhbE9uT3ZlcmxheSk7XHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlRXNjYXBlKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2xvc2VNb2RhbChtb2RhbCkge1xyXG4gIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9pcy1vcGVuZWRcIik7XHJcbiAgbW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlTW9kYWxPbk92ZXJsYXkpO1xyXG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUVzY2FwZSk7XHJcbn1cclxuXHJcbnByb2ZpbGVGb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KTtcclxuYWRkQ2FyZEZvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgaGFuZGxlQWRkQ2FyZFN1Ym1pdCk7XHJcbmF2YXRhckZvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgaGFuZGxlQXZhdGFyU3VibWl0KTtcclxuXHJcbmZ1bmN0aW9uIHJlbmRlckNhcmQoaXRlbSwgbWV0aG9kID0gXCJhcHBlbmRcIikge1xyXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gZ2V0Q2FyZEVsZW1lbnQoaXRlbSk7XHJcbiAgY2FyZHNMaXN0W21ldGhvZF0oY2FyZEVsZW1lbnQpO1xyXG59XHJcblxyXG5kZWxldGVDYW5jZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBjbG9zZU1vZGFsKGRlbGV0ZU1vZGFsKTtcclxuICBzZWxlY3RlZENhcmQgPSBudWxsO1xyXG4gIHNlbGVjdGVkQ2FyZElkID0gbnVsbDtcclxufSk7XHJcblxyXG5jbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XHJcbiAgY29uc3QgcG9wdXAgPSBidXR0b24uY2xvc2VzdChcIi5tb2RhbFwiKTtcclxuICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IGNsb3NlTW9kYWwocG9wdXApKTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBjbG9zZU1vZGFsT25PdmVybGF5KGV2dCkge1xyXG4gIGlmICghZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCIubW9kYWxcIikpIHtcclxuICAgIGNsb3NlTW9kYWwoZXZ0LnRhcmdldCk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVFc2NhcGUoZXZ0KSB7XHJcbiAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgIGNvbnN0IG9wZW5lZFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9pcy1vcGVuZWRcIik7XHJcbiAgICBjbG9zZU1vZGFsKG9wZW5lZFBvcHVwKTtcclxuICB9XHJcbn1cclxuXHJcbmVuYWJsZVZhbGlkYXRpb24oc2V0dGluZ3MpO1xyXG4iLCJjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKHsgYmFzZVVybCwgaGVhZGVycyB9KSB7XHJcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcclxuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xyXG4gIH1cclxuICAvLyBUSElTIElTIERPTkVcclxuICBnZXRBcHBJbmZvKCkge1xyXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFt0aGlzLmdldFVzZXJJbmZvKCksIHRoaXMuZ2V0SW5pdGlhbENhcmRzKCldKS50aGVuKFxyXG4gICAgICAoW3VzZXIsIGNhcmRzXSkgPT4ge1xyXG4gICAgICAgIHJldHVybiB7IHVzZXIsIGNhcmRzIH07XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICBlZGl0VXNlckluZm8oeyBuYW1lLCBhYm91dCB9KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZSxcclxuICAgICAgICBhYm91dCxcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGVkaXRBdmF0YXJJbmZvKGF2YXRhcikge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBhdmF0YXIsXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICBhZGROZXdDYXJkKHsgbmFtZSwgbGluayB9KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbmFtZSwgbGluayB9KSxcclxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ2FyZChpZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7aWR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGNhcmRMaWtlU3RhdHVzKGlkLCBpc0xpa2VkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtpZH0vbGlrZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogaXNMaWtlZCA/IFwiREVMRVRFXCIgOiBcIlBVVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlU2VydmVyUmVzcG9uc2UocmVzKSB7XHJcbiAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgfVxyXG4gICAgUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgfVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IEFwaTtcclxuIl0sIm5hbWVzIjpbInNldHRpbmdzIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImhpZGVJbnB1dEVycm9yIiwiZm9ybUVsIiwiaW5wdXRFbGVtZW50IiwiY29uZmlnIiwicXVlcnlTZWxlY3RvciIsImlkIiwidGV4dENvbnRlbnQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsImlucHV0TGlzdCIsImJ1dHRvbkVsZW1lbnQiLCJzb21lIiwiaW5wdXQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZWRCdXR0b24iLCJkaXNhYmxlZCIsImFkZCIsImVkaXRQcm9maWxlQnV0dG9uIiwiZG9jdW1lbnQiLCJlZGl0UHJvZmlsZU1vZGFsIiwicHJvZmlsZUZvcm1FbGVtZW50IiwiZm9ybXMiLCJwcm9maWxlTmFtZUVsZW1lbnQiLCJwcm9maWxlRGVzY3JpcHRpb25FbGVtZW50IiwicHJvZmlsZUF2YXRhckVsZW1lbnQiLCJwcm9maWxlQXZhdGFyQnRuIiwiZWRpdFByb2ZpbGVOYW1lSW5wdXQiLCJlZGl0UHJvZmlsZURlc2NyaXB0aW9uSW5wdXQiLCJhdmF0YXJNb2RhbCIsImF2YXRhckZvcm1FbGVtZW50IiwiYXZhdGFySW1hZ2VJbnB1dCIsImRlbGV0ZU1vZGFsIiwiZGVsZXRlRm9ybSIsImRlbGV0ZUNhbmNlbEJ0biIsIm5ld1Bvc3RBZGRCdXR0b24iLCJuZXdQb3N0TW9kYWwiLCJhZGRDYXJkRm9ybUVsZW1lbnQiLCJjYXJkSW1hZ2VJbnB1dCIsImNhcmRDYXB0aW9uSW5wdXQiLCJjYXJkVGVtcGxhdGUiLCJjb250ZW50IiwiY2FyZHNMaXN0IiwicHJldmlld01vZGFsIiwicHJldmlld0Nsb3NlQnRuIiwicHJldmlld0ltYWdlIiwicHJldmlld0NhcHRpb24iLCJjbG9zZUJ1dHRvbnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwibmV3UG9zdFNhdmVCdG4iLCJhcGkiLCJjb25zdHJ1Y3RvciIsImJhc2VVcmwiLCJoZWFkZXJzIiwidGhpcyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJnZXRBcHBJbmZvIiwiUHJvbWlzZSIsImFsbCIsImdldFVzZXJJbmZvIiwiZ2V0SW5pdGlhbENhcmRzIiwidGhlbiIsInVzZXIiLCJjYXJkcyIsImZldGNoIiwiX2hhbmRsZVNlcnZlclJlc3BvbnNlIiwiZWRpdFVzZXJJbmZvIiwibmFtZSIsImFib3V0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlZGl0QXZhdGFySW5mbyIsImF2YXRhciIsImFkZE5ld0NhcmQiLCJsaW5rIiwiZGVsZXRlQ2FyZCIsImNhcmRMaWtlU3RhdHVzIiwiaXNMaWtlZCIsInJlcyIsIm9rIiwianNvbiIsInJlamVjdCIsInN0YXR1cyIsImF1dGhvcml6YXRpb24iLCJzZWxlY3RlZENhcmQiLCJzZWxlY3RlZENhcmRJZCIsImdldENhcmRFbGVtZW50IiwiZGF0YSIsIkFycmF5IiwiaXNBcnJheSIsImxpa2VzIiwiY2FyZEVsZW1lbnQiLCJjbG9uZU5vZGUiLCJjYXJkSW1hZ2VFbCIsInNyYyIsImFsdCIsImNhcmRMaWtlQnRuRWwiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZ0IiwibGlrZUJ1dHRvbiIsInRhcmdldCIsImNvbnRhaW5zIiwidG9nZ2xlIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiaGFuZGxlTGlrZSIsIl9pZCIsImNhcmRJZCIsIm9wZW5Nb2RhbCIsImhhbmRsZURlbGV0ZUNhcmQiLCJtb2RhbCIsImNsb3NlTW9kYWxPbk92ZXJsYXkiLCJoYW5kbGVFc2NhcGUiLCJjbG9zZU1vZGFsIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImtleSIsImZvckVhY2giLCJjYXJkRGF0YSIsImNhcmQiLCJhcHBlbmRDaGlsZCIsImVycm9yIiwicmVzZXRWYWxpZGF0aW9uIiwidmFsdWUiLCJwcmV2ZW50RGVmYXVsdCIsImlucHV0VmFsdWVzIiwibmV3Q2FyZERhdGEiLCJpdGVtIiwicmVuZGVyQ2FyZCIsInJlc2V0IiwiZmluYWxseSIsImJ1dHRvbiIsInBvcHVwIiwiY2xvc2VzdCIsInNldEV2ZW50TGlzdGVuZXJzIiwiZnJvbSIsImNoZWNrSW5wdXRWYWxpZGl0eSIsInNob3dJbnB1dEVycm9yIiwiZXJyb3JNc2ciLCJ2YWxpZGF0aW9uTWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=