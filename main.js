!function(){"use strict";const e={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__submit-btn",inactiveButtonClass:"modal__submit-btn_disabled",inputErrorClass:"modal__input_type_error"},t=(e,t,r)=>{e.querySelector(`#${t.id}-error`).textContent="",t.classList.remove(r.inputErrorClass)},r=(e,t,r)=>{(e=>e.some(e=>!e.validity.valid))(e)?n(t,r):(t.disabled=!1,t.classList.remove(r.inactiveButtonClass))},n=(e,t)=>{e.disabled=!0,e.classList.add(t.inactiveButtonClass)};const o=document.querySelector(".profile__edit-btn"),a=document.querySelector("#edit-profile-modal"),s=document.forms["edit-profile-form"],i=document.querySelector(".profile__name"),c=document.querySelector(".profile__description"),l=document.querySelector(".profile__avatar"),d=document.querySelector(".profile__avatar-btn"),u=s.querySelector("#profile-name-input"),m=s.querySelector("#profile-description-input"),h=document.querySelector("#edit-avatar-modal"),_=document.forms["edit-avatar-form"],v=_.querySelector("#profile-avatar-input"),f=document.querySelector("#delete-modal"),p=document.forms["delete-form"],S=f.querySelector(".modal__submit-btn--cancel-btn"),y=document.querySelector(".profile__add-btn"),b=document.querySelector("#new-post-modal"),E=document.forms["new-post-form"],q=E.querySelector("#card-image-input"),L=E.querySelector("#card-caption-input"),k=document.querySelector("#card-template").content.querySelector(".card"),C=document.querySelector(".cards__list"),g=document.querySelector("#preview-modal"),U=g.querySelector(".modal__close-btn_type_preview"),x=g.querySelector(".modal__image"),A=g.querySelector(".modal__caption"),$=document.querySelectorAll(".modal__close-btn"),I=b.querySelector(".modal__submit-btn"),w=new class{constructor({baseUrl:e,headers:t}){this._baseUrl=e,this._headers=t}getAppInfo(){return Promise.all([this.getUserInfo(),this.getInitialCards()]).then(([e,t])=>({user:e,cards:t}))}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then(this._handleServerResponse)}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then(this._handleServerResponse)}editUserInfo({name:e,about:t}){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then(this._handleServerResponse)}editAvatarInfo(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._handleServerResponse)}addNewCard({name:e,link:t}){return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then(this._handleServerResponse)}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(this._handleServerResponse)}cardLikeStatus(e,t){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:t?"DELETE":"PUT",headers:this._headers}).then(this._handleServerResponse)}_handleServerResponse(e){if(e.ok)return e.json();Promise.reject(`Error: ${e.status}`)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"b8003661-c7fb-40e8-bb41-cd11b8d0c50e","Content-Type":"application/json"}});let R,T;function D(e){Array.isArray(e.likes)||(e.likes=[]);let t=k.cloneNode(!0);t.querySelector(".card__title").textContent=e.name;const r=t.querySelector(".card__image");r.src=e.link,r.alt=e.name;const n=t.querySelector(".card__like-btn");return e.isLiked&&n.classList.add("card__like-btn_active"),n.addEventListener("click",t=>{!function(e,t){const r=e.target,n=r.classList.contains("card__like-btn_active");w.cardLikeStatus(t,n).then(()=>{r.classList.toggle("card__like-btn_active",!n)}).catch(e=>{console.log("Error updating like status:",e)})}(t,e._id)}),t.querySelector(".card__delete-btn").addEventListener("click",()=>function(e,t){R=e,T=t,N(f)}(t,e._id)),r.addEventListener("click",function(){N(g),x.src=e.link,x.alt=e.name,A.textContent=e.name}),t}function N(e){e.classList.add("modal_is-opened"),e.addEventListener("click",B),document.addEventListener("keydown",O)}function P(e){e.classList.remove("modal_is-opened"),e.removeEventListener("click",B),document.removeEventListener("keydown",O)}function B(e){e.target.classList.contains(".modal")||P(e.target)}function O(e){"Escape"===e.key&&P(document.querySelector(".modal_is-opened"))}var j;w.getAppInfo().then(({user:e,cards:t})=>{i.textContent=e.name,c.textContent=e.about,l&&(l.src=e.avatar,l.alt=e.name,P(a)),t.forEach(e=>{const t=D(e);C.appendChild(t)})}).catch(console.error),U.addEventListener("click",function(){P(g)}),o.addEventListener("click",function(){var r,n;u.value=i.textContent,m.value=c.textContent,r=s,n=e,[u,m].forEach(e=>{t(r,e,n)}),N(a)}),y.addEventListener("click",function(){N(b)}),d.addEventListener("click",function(){N(h)}),p.addEventListener("submit",function(e){e.preventDefault(),w.deleteCard(T).then(()=>{R.remove(),P(f)}).catch(console.error)}),s.addEventListener("submit",function(e){e.preventDefault(),w.editUserInfo({name:u.value,about:m.value}).then(e=>{console.log(e),i.textContent=e.name,c.textContent=e.about}).catch(console.error),P(a)}),E.addEventListener("submit",function(t){t.preventDefault(),I.textContent="Saving...";const r={name:L.value,link:q.value};w.addNewCard(r).then(t=>{!function(e,t="append"){const r=D(e);C[t](r)}(r,"prepend"),E.reset(),n(I,e),P(b)}).catch(console.error).finally(()=>{I.textContent="Create"})}),_.addEventListener("submit",function(e){e.preventDefault(),w.editAvatarInfo(v.value).then(e=>{l.src=e.avatar,_.reset(),P(h)}).catch(console.error)}),S.addEventListener("click",()=>{P(f),R=null,T=null}),$.forEach(e=>{const t=e.closest(".modal");e.addEventListener("click",()=>P(t))}),j=e,document.querySelectorAll(j.formSelector).forEach(e=>{((e,o)=>{const a=Array.from(e.querySelectorAll(o.inputSelector)),s=e.querySelector(o.submitButtonSelector);r(a,s,o),e.addEventListener("reset",()=>{n(s,o)}),a.forEach(n=>{n.addEventListener("input",function(){((e,r,n)=>{r.validity.valid?t(e,r,n):((e,t,r,n)=>{e.querySelector(`#${t.id}-error`).textContent=r,t.classList.add(n.inputErrorClass)})(e,r,r.validationMessage,n)})(e,n,o),r(a,s,o)})})})(e,j)})}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUMsRUFBUUQsRUFBT0UsUUFBUSxVQUM3QkYsRUFBT25DLGlCQUFpQixRQUFTLElBQU1rQixFQUFXa0IsTUR2TW5CdkksRUN1TmhCVCxFRHRORTJCLFNBQVM2QixpQkFBaUIvQyxFQUFPUixjQUN6Q2dJLFFBQVMxSCxJQWpCTTJJLEVBQUMzSSxFQUFRRSxLQUNqQyxNQUFNTyxFQUFZbUYsTUFBTWdELEtBQUs1SSxFQUFPaUQsaUJBQWlCL0MsRUFBT1AsZ0JBQ3REZSxFQUFnQlYsRUFBT0csY0FBY0QsRUFBT04sc0JBQ2xEWSxFQUFrQkMsRUFBV0MsRUFBZVIsR0FDNUNGLEVBQU9xRyxpQkFBaUIsUUFBUyxLQUMvQnJGLEVBQWVOLEVBQWVSLEtBRWhDTyxFQUFVaUgsUUFBU3pILElBQ2pCQSxFQUFhb0csaUJBQWlCLFFBQVMsV0EvQ2hCd0MsRUFBQzdJLEVBQVFDLEVBQWNDLEtBQzNDRCxFQUFhWSxTQUFTQyxNQVF6QmYsRUFBZUMsRUFBUUMsRUFBY0MsR0FyQmxCNEksRUFBQzlJLEVBQVFDLEVBQWM4SSxFQUFVN0ksS0FDbkNGLEVBQU9HLGNBQWMsSUFBSUYsRUFBYUcsWUFDOUNDLFlBQWMwSSxFQUN6QjlJLEVBQWFLLFVBQVVZLElBQUloQixFQUFPSixrQkFXaENnSixDQUNFOUksRUFDQUMsRUFDQUEsRUFBYStJLGtCQUNiOUksSUEwQ0EySSxDQUFtQjdJLEVBQVFDLEVBQWNDLEdBQ3pDTSxFQUFrQkMsRUFBV0MsRUFBZVIsRUFDOUMsTUFPQXlJLENBQWtCM0ksRUFBUUUsSSIsInNvdXJjZXMiOlsid2VicGFjazovL3NlX3Byb2plY3Rfc3BvdHMvLi9zcmMvc2NyaXB0cy92YWxpZGF0ZS5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X3Nwb3RzLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3NlX3Byb2plY3Rfc3BvdHMvLi9zcmMvdXRpbHMvQXBpLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBzZXR0aW5ncyA9IHtcclxuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19zdWJtaXQtYnRuXCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fc3VibWl0LWJ0bl9kaXNhYmxlZFwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfdHlwZV9lcnJvclwiLFxyXG59O1xyXG5cclxuY29uc3Qgc2hvd0lucHV0RXJyb3IgPSAoZm9ybUVsLCBpbnB1dEVsZW1lbnQsIGVycm9yTXNnLCBjb25maWcpID0+IHtcclxuICBjb25zdCBlcnJvck1zZ0VsID0gZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICBlcnJvck1zZ0VsLnRleHRDb250ZW50ID0gZXJyb3JNc2c7XHJcbiAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQoY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbn07XHJcblxyXG5jb25zdCBoaWRlSW5wdXRFcnJvciA9IChmb3JtRWwsIGlucHV0RWxlbWVudCwgY29uZmlnKSA9PiB7XHJcbiAgY29uc3QgZXJyb3JNc2dFbCA9IGZvcm1FbC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgZXJyb3JNc2dFbC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbn07XHJcblxyXG5jb25zdCBjaGVja0lucHV0VmFsaWRpdHkgPSAoZm9ybUVsLCBpbnB1dEVsZW1lbnQsIGNvbmZpZykgPT4ge1xyXG4gIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICBzaG93SW5wdXRFcnJvcihcclxuICAgICAgZm9ybUVsLFxyXG4gICAgICBpbnB1dEVsZW1lbnQsXHJcbiAgICAgIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSxcclxuICAgICAgY29uZmlnXHJcbiAgICApO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBoaWRlSW5wdXRFcnJvcihmb3JtRWwsIGlucHV0RWxlbWVudCwgY29uZmlnKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBoYXNJbnZhbGlkSW5wdXQgPSAoaW5wdXRMaXN0KSA9PiB7XHJcbiAgcmV0dXJuIGlucHV0TGlzdC5zb21lKChpbnB1dCkgPT4ge1xyXG4gICAgcmV0dXJuICFpbnB1dC52YWxpZGl0eS52YWxpZDtcclxuICB9KTtcclxufTtcclxuXHJcbmNvbnN0IHRvZ2dsZUJ1dHRvblN0YXRlID0gKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCwgY29uZmlnKSA9PiB7XHJcbiAgaWYgKGhhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpKSB7XHJcbiAgICBkaXNhYmxlZEJ1dHRvbihidXR0b25FbGVtZW50LCBjb25maWcpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBkaXNhYmxlZEJ1dHRvbiA9IChidXR0b25FbGVtZW50LCBjb25maWcpID0+IHtcclxuICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHJlc2V0VmFsaWRhdGlvbiA9IChmb3JtRWwsIGlucHV0TGlzdCwgY29uZmlnKSA9PiB7XHJcbiAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICBoaWRlSW5wdXRFcnJvcihmb3JtRWwsIGlucHV0LCBjb25maWcpO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuY29uc3Qgc2V0RXZlbnRMaXN0ZW5lcnMgPSAoZm9ybUVsLCBjb25maWcpID0+IHtcclxuICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKGZvcm1FbC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5pbnB1dFNlbGVjdG9yKSk7XHJcbiAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGZvcm1FbC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50LCBjb25maWcpO1xyXG4gIGZvcm1FbC5hZGRFdmVudExpc3RlbmVyKFwicmVzZXRcIiwgKCkgPT4ge1xyXG4gICAgZGlzYWJsZWRCdXR0b24oYnV0dG9uRWxlbWVudCwgY29uZmlnKTtcclxuICB9KTtcclxuICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgY2hlY2tJbnB1dFZhbGlkaXR5KGZvcm1FbCwgaW5wdXRFbGVtZW50LCBjb25maWcpO1xyXG4gICAgICB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQsIGNvbmZpZyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKGNvbmZpZykgPT4ge1xyXG4gIGNvbnN0IGZvcm1MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuZm9ybVNlbGVjdG9yKTtcclxuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWwpID0+IHtcclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKGZvcm1FbCwgY29uZmlnKTtcclxuICB9KTtcclxufTtcclxuIiwiaW1wb3J0IFwiLi4vcGFnZXMvaW5kZXguY3NzXCI7XHJcbmltcG9ydCB7XHJcbiAgZW5hYmxlVmFsaWRhdGlvbixcclxuICBzZXR0aW5ncyxcclxuICByZXNldFZhbGlkYXRpb24sXHJcbiAgZGlzYWJsZWRCdXR0b24sXHJcbn0gZnJvbSBcIi4uL3NjcmlwdHMvdmFsaWRhdGUuanNcIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vdXRpbHMvQXBpLmpzXCI7XHJcblxyXG4vLyBQcm9maWxlIGVsZW1lbnRzXHJcbmNvbnN0IGVkaXRQcm9maWxlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ0blwiKTtcclxuY29uc3QgZWRpdFByb2ZpbGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWRpdC1wcm9maWxlLW1vZGFsXCIpO1xyXG5jb25zdCBwcm9maWxlRm9ybUVsZW1lbnQgPSBkb2N1bWVudC5mb3Jtc1tcImVkaXQtcHJvZmlsZS1mb3JtXCJdO1xyXG5jb25zdCBwcm9maWxlTmFtZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XHJcbmNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCJcclxuKTtcclxuY29uc3QgcHJvZmlsZUF2YXRhckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhclwiKTtcclxuY29uc3QgcHJvZmlsZUF2YXRhckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyLWJ0blwiKTtcclxuY29uc3QgZWRpdFByb2ZpbGVOYW1lSW5wdXQgPSBwcm9maWxlRm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIiNwcm9maWxlLW5hbWUtaW5wdXRcIlxyXG4pO1xyXG5jb25zdCBlZGl0UHJvZmlsZURlc2NyaXB0aW9uSW5wdXQgPSBwcm9maWxlRm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIiNwcm9maWxlLWRlc2NyaXB0aW9uLWlucHV0XCJcclxuKTtcclxuXHJcbi8vIEF2YXRhciBmb3JtIGVsZW1lbnRcclxuY29uc3QgYXZhdGFyTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtYXZhdGFyLW1vZGFsXCIpO1xyXG5jb25zdCBhdmF0YXJGb3JtRWxlbWVudCA9IGRvY3VtZW50LmZvcm1zW1wiZWRpdC1hdmF0YXItZm9ybVwiXTtcclxuY29uc3QgYXZhdGFySW1hZ2VJbnB1dCA9IGF2YXRhckZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIjcHJvZmlsZS1hdmF0YXItaW5wdXRcIlxyXG4pO1xyXG5cclxuLy8gRGVsZXRlIGZvcm0gZWxlbWVudHNcclxuY29uc3QgZGVsZXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2RlbGV0ZS1tb2RhbFwiKTtcclxuY29uc3QgZGVsZXRlRm9ybSA9IGRvY3VtZW50LmZvcm1zW1wiZGVsZXRlLWZvcm1cIl07XHJcbmNvbnN0IGRlbGV0ZUNhbmNlbEJ0biA9IGRlbGV0ZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIubW9kYWxfX3N1Ym1pdC1idG4tLWNhbmNlbC1idG5cIlxyXG4pO1xyXG5cclxuLy9DYXJkIGZvcm0gZWxlbWVudHNcclxuY29uc3QgbmV3UG9zdEFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ0blwiKTtcclxuY29uc3QgbmV3UG9zdE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNuZXctcG9zdC1tb2RhbFwiKTtcclxuY29uc3QgYWRkQ2FyZEZvcm1FbGVtZW50ID0gZG9jdW1lbnQuZm9ybXNbXCJuZXctcG9zdC1mb3JtXCJdO1xyXG5jb25zdCBjYXJkSW1hZ2VJbnB1dCA9IGFkZENhcmRGb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtaW1hZ2UtaW5wdXRcIik7XHJcbmNvbnN0IGNhcmRDYXB0aW9uSW5wdXQgPSBhZGRDYXJkRm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIiNjYXJkLWNhcHRpb24taW5wdXRcIlxyXG4pO1xyXG5jb25zdCBjYXJkVGVtcGxhdGUgPSBkb2N1bWVudFxyXG4gIC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtdGVtcGxhdGVcIilcclxuICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIik7XHJcbmNvbnN0IGNhcmRzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2xpc3RcIik7XHJcbmNvbnN0IHByZXZpZXdNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJldmlldy1tb2RhbFwiKTtcclxuY29uc3QgcHJldmlld0Nsb3NlQnRuID0gcHJldmlld01vZGFsLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIubW9kYWxfX2Nsb3NlLWJ0bl90eXBlX3ByZXZpZXdcIlxyXG4pO1xyXG5jb25zdCBwcmV2aWV3SW1hZ2UgPSBwcmV2aWV3TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2VcIik7XHJcbmNvbnN0IHByZXZpZXdDYXB0aW9uID0gcHJldmlld01vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2NhcHRpb25cIik7XHJcbmNvbnN0IGNsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2Nsb3NlLWJ0blwiKTtcclxuY29uc3QgbmV3UG9zdFNhdmVCdG4gPSBuZXdQb3N0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fc3VibWl0LWJ0blwiKTtcclxuXHJcbi8vSW5zdGFudGlhdGUgQVBJXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjFcIixcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcImI4MDAzNjYxLWM3ZmItNDBlOC1iYjQxLWNkMTFiOGQwYzUwZVwiLFxyXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgfSxcclxufSk7XHJcblxyXG5sZXQgc2VsZWN0ZWRDYXJkO1xyXG5sZXQgc2VsZWN0ZWRDYXJkSWQ7XHJcbmxldCBjdXJyZW50VXNlcklkO1xyXG5cclxuLy9GZXRjaCBpbml0aWFsIGRhdGFcclxuYXBpXHJcbiAgLmdldEFwcEluZm8oKVxyXG4gIC50aGVuKCh7IHVzZXIsIGNhcmRzIH0pID0+IHtcclxuICAgIC8vIGN1cnJlbnRVc2VySWQgPSB1c2VyLl9pZDtcclxuXHJcbiAgICBwcm9maWxlTmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSB1c2VyLm5hbWU7XHJcbiAgICBwcm9maWxlRGVzY3JpcHRpb25FbGVtZW50LnRleHRDb250ZW50ID0gdXNlci5hYm91dDtcclxuXHJcbiAgICBpZiAocHJvZmlsZUF2YXRhckVsZW1lbnQpIHtcclxuICAgICAgcHJvZmlsZUF2YXRhckVsZW1lbnQuc3JjID0gdXNlci5hdmF0YXI7XHJcbiAgICAgIHByb2ZpbGVBdmF0YXJFbGVtZW50LmFsdCA9IHVzZXIubmFtZTtcclxuICAgICAgY2xvc2VNb2RhbChlZGl0UHJvZmlsZU1vZGFsKTtcclxuICAgIH1cclxuXHJcbiAgICBjYXJkcy5mb3JFYWNoKChjYXJkRGF0YSkgPT4ge1xyXG4gICAgICBjb25zdCBjYXJkID0gZ2V0Q2FyZEVsZW1lbnQoY2FyZERhdGEpO1xyXG4gICAgICBjYXJkc0xpc3QuYXBwZW5kQ2hpbGQoY2FyZCk7XHJcbiAgICB9KTtcclxuICB9KVxyXG4gIC5jYXRjaChjb25zb2xlLmVycm9yKTtcclxuXHJcbmZ1bmN0aW9uIGdldENhcmRFbGVtZW50KGRhdGEpIHtcclxuICBpZiAoIUFycmF5LmlzQXJyYXkoZGF0YS5saWtlcykpIHtcclxuICAgIGRhdGEubGlrZXMgPSBbXTtcclxuICB9XHJcblxyXG4gIGxldCBjYXJkRWxlbWVudCA9IGNhcmRUZW1wbGF0ZS5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG4gIGNvbnN0IGNhcmRUaXRsZUVsID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKTtcclxuICBjYXJkVGl0bGVFbC50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcclxuICBjb25zdCBjYXJkSW1hZ2VFbCA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XHJcbiAgY2FyZEltYWdlRWwuc3JjID0gZGF0YS5saW5rO1xyXG4gIGNhcmRJbWFnZUVsLmFsdCA9IGRhdGEubmFtZTtcclxuXHJcbiAgY29uc3QgY2FyZExpa2VCdG5FbCA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idG5cIik7XHJcblxyXG4gIGlmIChkYXRhLmlzTGlrZWQpIHtcclxuICAgIGNhcmRMaWtlQnRuRWwuY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2UtYnRuX2FjdGl2ZVwiKTtcclxuICB9XHJcblxyXG4gIGNhcmRMaWtlQnRuRWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcclxuICAgIGhhbmRsZUxpa2UoZXZ0LCBkYXRhLl9pZCk7XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IGNhcmREZWxldGVCdG5FbCA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZGVsZXRlLWJ0blwiKTtcclxuICBjYXJkRGVsZXRlQnRuRWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XHJcbiAgICBoYW5kbGVEZWxldGVDYXJkKGNhcmRFbGVtZW50LCBkYXRhLl9pZClcclxuICApO1xyXG5cclxuICBjYXJkSW1hZ2VFbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgb3Blbk1vZGFsKHByZXZpZXdNb2RhbCk7XHJcbiAgICBwcmV2aWV3SW1hZ2Uuc3JjID0gZGF0YS5saW5rO1xyXG4gICAgcHJldmlld0ltYWdlLmFsdCA9IGRhdGEubmFtZTtcclxuICAgIHByZXZpZXdDYXB0aW9uLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUxpa2UoZXZ0LCBpZCkge1xyXG4gIGNvbnN0IGxpa2VCdXR0b24gPSBldnQudGFyZ2V0O1xyXG4gIGNvbnN0IGlzTGlrZWQgPSBsaWtlQnV0dG9uLmNsYXNzTGlzdC5jb250YWlucyhcImNhcmRfX2xpa2UtYnRuX2FjdGl2ZVwiKTtcclxuXHJcbiAgYXBpXHJcbiAgICAuY2FyZExpa2VTdGF0dXMoaWQsIGlzTGlrZWQpXHJcbiAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgIGxpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRfX2xpa2UtYnRuX2FjdGl2ZVwiLCAhaXNMaWtlZCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coXCJFcnJvciB1cGRhdGluZyBsaWtlIHN0YXR1czpcIiwgZXJyKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5wcmV2aWV3Q2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICBjbG9zZU1vZGFsKHByZXZpZXdNb2RhbCk7XHJcbn0pO1xyXG5cclxuZWRpdFByb2ZpbGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICBlZGl0UHJvZmlsZU5hbWVJbnB1dC52YWx1ZSA9IHByb2ZpbGVOYW1lRWxlbWVudC50ZXh0Q29udGVudDtcclxuICBlZGl0UHJvZmlsZURlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSBwcm9maWxlRGVzY3JpcHRpb25FbGVtZW50LnRleHRDb250ZW50O1xyXG4gIHJlc2V0VmFsaWRhdGlvbihcclxuICAgIHByb2ZpbGVGb3JtRWxlbWVudCxcclxuICAgIFtlZGl0UHJvZmlsZU5hbWVJbnB1dCwgZWRpdFByb2ZpbGVEZXNjcmlwdGlvbklucHV0XSxcclxuICAgIHNldHRpbmdzXHJcbiAgKTtcclxuICBvcGVuTW9kYWwoZWRpdFByb2ZpbGVNb2RhbCk7XHJcbn0pO1xyXG5cclxubmV3UG9zdEFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gIG9wZW5Nb2RhbChuZXdQb3N0TW9kYWwpO1xyXG59KTtcclxuXHJcbnByb2ZpbGVBdmF0YXJCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICBvcGVuTW9kYWwoYXZhdGFyTW9kYWwpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KGV2dCkge1xyXG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICBhcGlcclxuICAgIC5lZGl0VXNlckluZm8oe1xyXG4gICAgICBuYW1lOiBlZGl0UHJvZmlsZU5hbWVJbnB1dC52YWx1ZSxcclxuICAgICAgYWJvdXQ6IGVkaXRQcm9maWxlRGVzY3JpcHRpb25JbnB1dC52YWx1ZSxcclxuICAgIH0pXHJcbiAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgcHJvZmlsZU5hbWVFbGVtZW50LnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xyXG4gICAgICBwcm9maWxlRGVzY3JpcHRpb25FbGVtZW50LnRleHRDb250ZW50ID0gZGF0YS5hYm91dDtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XHJcblxyXG4gIGNsb3NlTW9kYWwoZWRpdFByb2ZpbGVNb2RhbCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUFkZENhcmRTdWJtaXQoZXZ0KSB7XHJcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgbmV3UG9zdFNhdmVCdG4udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiO1xyXG4gIGNvbnN0IGlucHV0VmFsdWVzID0ge1xyXG4gICAgbmFtZTogY2FyZENhcHRpb25JbnB1dC52YWx1ZSxcclxuICAgIGxpbms6IGNhcmRJbWFnZUlucHV0LnZhbHVlLFxyXG4gIH07XHJcblxyXG4gIGFwaVxyXG4gICAgLmFkZE5ld0NhcmQoaW5wdXRWYWx1ZXMpXHJcbiAgICAudGhlbigobmV3Q2FyZERhdGEpID0+IHtcclxuICAgICAgcmVuZGVyQ2FyZChpbnB1dFZhbHVlcywgXCJwcmVwZW5kXCIpO1xyXG5cclxuICAgICAgYWRkQ2FyZEZvcm1FbGVtZW50LnJlc2V0KCk7XHJcbiAgICAgIGRpc2FibGVkQnV0dG9uKG5ld1Bvc3RTYXZlQnRuLCBzZXR0aW5ncyk7XHJcbiAgICAgIGNsb3NlTW9kYWwobmV3UG9zdE1vZGFsKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcilcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgbmV3UG9zdFNhdmVCdG4udGV4dENvbnRlbnQgPSBcIkNyZWF0ZVwiO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUF2YXRhclN1Ym1pdChldnQpIHtcclxuICBldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgYXBpXHJcbiAgICAuZWRpdEF2YXRhckluZm8oYXZhdGFySW1hZ2VJbnB1dC52YWx1ZSlcclxuICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgIHByb2ZpbGVBdmF0YXJFbGVtZW50LnNyYyA9IGRhdGEuYXZhdGFyO1xyXG4gICAgICBhdmF0YXJGb3JtRWxlbWVudC5yZXNldCgpO1xyXG4gICAgICBjbG9zZU1vZGFsKGF2YXRhck1vZGFsKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZVN1Ym1pdChldnQpIHtcclxuICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICBhcGlcclxuICAgIC5kZWxldGVDYXJkKHNlbGVjdGVkQ2FyZElkKVxyXG4gICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICBzZWxlY3RlZENhcmQucmVtb3ZlKCk7XHJcbiAgICAgIGNsb3NlTW9kYWwoZGVsZXRlTW9kYWwpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaChjb25zb2xlLmVycm9yKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlQ2FyZChjYXJkRWxlbWVudCwgY2FyZElkKSB7XHJcbiAgc2VsZWN0ZWRDYXJkID0gY2FyZEVsZW1lbnQ7XHJcbiAgc2VsZWN0ZWRDYXJkSWQgPSBjYXJkSWQ7XHJcbiAgb3Blbk1vZGFsKGRlbGV0ZU1vZGFsKTtcclxufVxyXG5cclxuZGVsZXRlRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZURlbGV0ZVN1Ym1pdCk7XHJcblxyXG5mdW5jdGlvbiBvcGVuTW9kYWwobW9kYWwpIHtcclxuICBtb2RhbC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfaXMtb3BlbmVkXCIpO1xyXG4gIG1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbG9zZU1vZGFsT25PdmVybGF5KTtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVFc2NhcGUpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjbG9zZU1vZGFsKG1vZGFsKSB7XHJcbiAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX2lzLW9wZW5lZFwiKTtcclxuICBtb2RhbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2VNb2RhbE9uT3ZlcmxheSk7XHJcbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlRXNjYXBlKTtcclxufVxyXG5cclxucHJvZmlsZUZvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQpO1xyXG5hZGRDYXJkRm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVBZGRDYXJkU3VibWl0KTtcclxuYXZhdGFyRm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVBdmF0YXJTdWJtaXQpO1xyXG5cclxuZnVuY3Rpb24gcmVuZGVyQ2FyZChpdGVtLCBtZXRob2QgPSBcImFwcGVuZFwiKSB7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBnZXRDYXJkRWxlbWVudChpdGVtKTtcclxuICBjYXJkc0xpc3RbbWV0aG9kXShjYXJkRWxlbWVudCk7XHJcbn1cclxuXHJcbmRlbGV0ZUNhbmNlbEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGNsb3NlTW9kYWwoZGVsZXRlTW9kYWwpO1xyXG4gIHNlbGVjdGVkQ2FyZCA9IG51bGw7XHJcbiAgc2VsZWN0ZWRDYXJkSWQgPSBudWxsO1xyXG59KTtcclxuXHJcbmNsb3NlQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcclxuICBjb25zdCBwb3B1cCA9IGJ1dHRvbi5jbG9zZXN0KFwiLm1vZGFsXCIpO1xyXG4gIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gY2xvc2VNb2RhbChwb3B1cCkpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGNsb3NlTW9kYWxPbk92ZXJsYXkoZXZ0KSB7XHJcbiAgaWYgKCFldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIi5tb2RhbFwiKSkge1xyXG4gICAgY2xvc2VNb2RhbChldnQudGFyZ2V0KTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUVzY2FwZShldnQpIHtcclxuICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgY29uc3Qgb3BlbmVkUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX2lzLW9wZW5lZFwiKTtcclxuICAgIGNsb3NlTW9kYWwob3BlbmVkUG9wdXApO1xyXG4gIH1cclxufVxyXG5cclxuZW5hYmxlVmFsaWRhdGlvbihzZXR0aW5ncyk7XHJcbiIsImNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcclxuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xyXG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XHJcbiAgfVxyXG4gIC8vIFRISVMgSVMgRE9ORVxyXG4gIGdldEFwcEluZm8oKSB7XHJcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW3RoaXMuZ2V0VXNlckluZm8oKSwgdGhpcy5nZXRJbml0aWFsQ2FyZHMoKV0pLnRoZW4oXHJcbiAgICAgIChbdXNlciwgY2FyZHNdKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHsgdXNlciwgY2FyZHMgfTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGVkaXRVc2VySW5mbyh7IG5hbWUsIGFib3V0IH0pIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lLFxyXG4gICAgICAgIGFib3V0LFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgZWRpdEF2YXRhckluZm8oYXZhdGFyKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGF2YXRhcixcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGFkZE5ld0NhcmQoeyBuYW1lLCBsaW5rIH0pIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lLCBsaW5rIH0pLFxyXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICBkZWxldGVDYXJkKGlkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtpZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgY2FyZExpa2VTdGF0dXMoaWQsIGlzTGlrZWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2lkfS9saWtlc2AsIHtcclxuICAgICAgbWV0aG9kOiBpc0xpa2VkID8gXCJERUxFVEVcIiA6IFwiUFVUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVTZXJ2ZXJSZXNwb25zZShyZXMpIHtcclxuICAgIGlmIChyZXMub2spIHtcclxuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICB9XHJcbiAgICBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICB9XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgQXBpO1xyXG4iXSwibmFtZXMiOlsic2V0dGluZ3MiLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiaGlkZUlucHV0RXJyb3IiLCJmb3JtRWwiLCJpbnB1dEVsZW1lbnQiLCJjb25maWciLCJxdWVyeVNlbGVjdG9yIiwiaWQiLCJ0ZXh0Q29udGVudCIsImNsYXNzTGlzdCIsInJlbW92ZSIsInRvZ2dsZUJ1dHRvblN0YXRlIiwiaW5wdXRMaXN0IiwiYnV0dG9uRWxlbWVudCIsInNvbWUiLCJpbnB1dCIsInZhbGlkaXR5IiwidmFsaWQiLCJoYXNJbnZhbGlkSW5wdXQiLCJkaXNhYmxlZEJ1dHRvbiIsImRpc2FibGVkIiwiYWRkIiwiZWRpdFByb2ZpbGVCdXR0b24iLCJkb2N1bWVudCIsImVkaXRQcm9maWxlTW9kYWwiLCJwcm9maWxlRm9ybUVsZW1lbnQiLCJmb3JtcyIsInByb2ZpbGVOYW1lRWxlbWVudCIsInByb2ZpbGVEZXNjcmlwdGlvbkVsZW1lbnQiLCJwcm9maWxlQXZhdGFyRWxlbWVudCIsInByb2ZpbGVBdmF0YXJCdG4iLCJlZGl0UHJvZmlsZU5hbWVJbnB1dCIsImVkaXRQcm9maWxlRGVzY3JpcHRpb25JbnB1dCIsImF2YXRhck1vZGFsIiwiYXZhdGFyRm9ybUVsZW1lbnQiLCJhdmF0YXJJbWFnZUlucHV0IiwiZGVsZXRlTW9kYWwiLCJkZWxldGVGb3JtIiwiZGVsZXRlQ2FuY2VsQnRuIiwibmV3UG9zdEFkZEJ1dHRvbiIsIm5ld1Bvc3RNb2RhbCIsImFkZENhcmRGb3JtRWxlbWVudCIsImNhcmRJbWFnZUlucHV0IiwiY2FyZENhcHRpb25JbnB1dCIsImNhcmRUZW1wbGF0ZSIsImNvbnRlbnQiLCJjYXJkc0xpc3QiLCJwcmV2aWV3TW9kYWwiLCJwcmV2aWV3Q2xvc2VCdG4iLCJwcmV2aWV3SW1hZ2UiLCJwcmV2aWV3Q2FwdGlvbiIsImNsb3NlQnV0dG9ucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJuZXdQb3N0U2F2ZUJ0biIsImFwaSIsImNvbnN0cnVjdG9yIiwiYmFzZVVybCIsImhlYWRlcnMiLCJ0aGlzIiwiX2Jhc2VVcmwiLCJfaGVhZGVycyIsImdldEFwcEluZm8iLCJQcm9taXNlIiwiYWxsIiwiZ2V0VXNlckluZm8iLCJnZXRJbml0aWFsQ2FyZHMiLCJ0aGVuIiwidXNlciIsImNhcmRzIiwiZmV0Y2giLCJfaGFuZGxlU2VydmVyUmVzcG9uc2UiLCJlZGl0VXNlckluZm8iLCJuYW1lIiwiYWJvdXQiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImVkaXRBdmF0YXJJbmZvIiwiYXZhdGFyIiwiYWRkTmV3Q2FyZCIsImxpbmsiLCJkZWxldGVDYXJkIiwiY2FyZExpa2VTdGF0dXMiLCJpc0xpa2VkIiwicmVzIiwib2siLCJqc29uIiwicmVqZWN0Iiwic3RhdHVzIiwiYXV0aG9yaXphdGlvbiIsInNlbGVjdGVkQ2FyZCIsInNlbGVjdGVkQ2FyZElkIiwiZ2V0Q2FyZEVsZW1lbnQiLCJkYXRhIiwiQXJyYXkiLCJpc0FycmF5IiwibGlrZXMiLCJjYXJkRWxlbWVudCIsImNsb25lTm9kZSIsImNhcmRJbWFnZUVsIiwic3JjIiwiYWx0IiwiY2FyZExpa2VCdG5FbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldnQiLCJsaWtlQnV0dG9uIiwidGFyZ2V0IiwiY29udGFpbnMiLCJ0b2dnbGUiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJoYW5kbGVMaWtlIiwiX2lkIiwiY2FyZElkIiwib3Blbk1vZGFsIiwiaGFuZGxlRGVsZXRlQ2FyZCIsIm1vZGFsIiwiY2xvc2VNb2RhbE9uT3ZlcmxheSIsImhhbmRsZUVzY2FwZSIsImNsb3NlTW9kYWwiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwia2V5IiwiZm9yRWFjaCIsImNhcmREYXRhIiwiY2FyZCIsImFwcGVuZENoaWxkIiwiZXJyb3IiLCJyZXNldFZhbGlkYXRpb24iLCJ2YWx1ZSIsInByZXZlbnREZWZhdWx0IiwiaW5wdXRWYWx1ZXMiLCJuZXdDYXJkRGF0YSIsIml0ZW0iLCJyZW5kZXJDYXJkIiwicmVzZXQiLCJmaW5hbGx5IiwiYnV0dG9uIiwicG9wdXAiLCJjbG9zZXN0Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJmcm9tIiwiY2hlY2tJbnB1dFZhbGlkaXR5Iiwic2hvd0lucHV0RXJyb3IiLCJlcnJvck1zZyIsInZhbGlkYXRpb25NZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==